
<h1>
    Open Gauquelin Database Downloads
    <br><div class="warning inline-block padding2">Prototype</div>
</h1>

<!-- ********************************************************************************* -->
{{/* 
<form class="form" action="{{$.Details.UrlAction}}" onsubmit="return validateForm();" method="post" novalidate>
*/}}

<style>
    #ogdb-form{
        background:#eee
    }
    #ogdb-form ul{list-style-type:none;}
    #ogdb-form .command input{
        font-weight:bold;
        padding:4px;
    }
    #ogdb-form .command input[type=button]{
        background-image: linear-gradient(90deg, #ccc 0%, #ddd 50%, #ccc 100%); 
        padding:8px;
        border-radius:10px;
    }
</style>

<form id="ogdb-form" class="form" action="" onsubmit="return validateForm();" method="post" novalidate>

    <fieldset class="margin-top margin-bottom">
        <legend class="bold padding-right05 padding-left05">1 - Choose what to download</legend>
    
        <h3>Full database</h3>
        <ul>
            
            <li>
                <input type="radio" name="radio-what" id="full-pgdump">
                <label for="full-pgdump"><b>Postgresql dump</b> - to load the database in postgresql, see <a href="install">page INSTALL</a></label>
            </li>
            
            <li>
                <input type="radio" name="radio-what" id="full-csv-time">
                <label for="full-csv-time">CSV export - Timed data</label>
            </li>
            <li>
                <input type="radio" name="radio-what" id="full-csv-all">
                <label for="full-csv-all">CSV export - Timed and untimed data</label>
            </li>
        </ul>
        
        <h3>Historical datasets</h3>
        
        <h3>Lists by occupation (profession)</h3>
        
        <h3>Other downloads</h3>
        Auxiliary files, like scans of original documents, can be downloaded from <a href="https://github.com/tig12/g5-aux">github.com/tig12/g5-aux</a>
    </fieldset>
    
    {{/* 
    <fieldset class="margin-top margin-bottom">
        <legend class="bold padding-right05 padding-left05">2 - Choose the fields</legend>
    </fieldset>
    */}}
    
    <fieldset class="margin-top margin-bottom">
        <legend class="bold padding-right05 padding-left05">2 - Choose the format</legend>
        
        <div class="grid2-pres">
            <b>CSV Separator</b>
            <div class="padding-left2">
                <div>
                    <input type="radio" name="radio-sep" id="semicolon" checked>
                    <label for="semicolon"><span class="bold big3 padding-left05">;</span> Semicolon</label>
                </div>
                <div>
                    <input type="radio" name="radio-sep" id="coma">
                    <label for="coma"><span class="bold big3 padding-left05">,</span> Coma</label>
                </div>
            </div>
        </div>
        
            <div class="margin-top bold">Date</div>
            <div class="grid2-pres">
                <div>
                    <input type="radio" name="radio-field-date" id="date-iso" checked>
                    <label for="date-iso">Date and time in one column, format ISO 8601.</label>
                    <table class="wikitable margin-left">
                        <tr><th>DATE</th></tr>
                        <tr><td>2022-10-27 21:34+02:00</td></tr>
                    </table>            
                </div>
                <div class="margin-left2">
                    <input type="radio" name="radio-field-date" id="date-many-cols">
                    <label for="date-many-cols">One column for year, one column for month etc.</label>
                    <table class="wikitable margin-left">
                        <tr><th>Y</th><th>M</th><th>D</th><th>H</th><th>Mi</th><th>TZO</th></tr>
                        <tr><td>2022</td><td>10</td><td>27</td><td>21</td><td>34</td><td>+02:00</td></tr>
                    </table>            
                </div>
            </div>
    </fieldset>

    <div class="float-right command">
        <input type="button" name="cancel" value="Cancel" onClick="cancel();">
        <input type="button" name="download" value="Download" class="margin-left">
        {{/* 
        <input type="submit" class="margin-left" value="Download">
        */}}
    </div>

</form>
<!-- ********************************************************************************* -->



<!--
<a name="help"></a>
<div id="help" class="margin display-none">
    <div class="help-content">
        <div class="help-title">Aide</div>
        
        <div class="section">
            <b>Taux TVA</b> : Il s'agit du taux apparaissant sur la facture. La liste des valeurs possibles peut être modifiée dans le fichier <code>config.yml</code>, section <code>tva-bdl</code>, valeur <code>autres-valorisations</code>.
        </div>
        
    </div>
</div>
-->

<script>
window.addEventListener("load", function(){
    initialize();
});

// ***************************************
function initialize(){
    {{/* 
    // form new
    if({{.Id}} == 0){
        document.getElementById("typevente-NON").checked = true;
    }
    // form update
    else{
        document.getElementById("acheteur").value = "{{.Acheteur.String}}";
        document.getElementById("tva-{{.TVA}}").selected = true;
        valorisationChanged();
        document.getElementById("typevente-{{.TypeVente}}").checked = true;
        if(document.getElementById("valorisation-PI").selected){
            if('{{.Unite}}' == 'NP'){
                document.getElementById("unite-pi-np").checked = true;
            }
            else{
                document.getElementById("unite-pi-st").checked = true;
            }
        }
    }
    */}}
}

function cancel(){
}

// ***************************************
function validateForm(){
{{/* 
    let msg = "";
    //
    if(document.getElementById("datecontrat").value == ""){
        msg += "- Vous devez renseigner la date du contrat.\n";
    }
    //
    if(msg != ""){
        msg = "Impossible de valider ce formulaire :\n" + msg;
        alert(msg);
        return false;
    }
    //
    return true;
*/}}
}
</script>



<!-- ********************************************************************************* -->
<h2 class="margin-top3">Fields of the downloadable CSV files</h2>

<!-- 
The downloadable CSV files do not all have the same format. For example, outputs of the historical files (Gauquelin, Müller, Ertel, skeptics) sometimes contain fields coming from the original source (like Gauquelin sector position, eminence indications).

<br><br>But some fields are standardized, the list below describe them.
-->

<table class="wikitable alternate margin-top">

    <tr>
        <th>Field name</th>
        <th>Comments</th>
    </tr>
    
    <!-- ************************************* -->
    <tr><td colspan="2" class="paragraph">Identifiers</td></tr>
    
    <tr>
        <td>OGDBID</td>
        <td>
            <b>Open Gauquelin Database unique id</b>
            <br>Looks like <code>alard-pierre-1937-09-17</code>.
            <br>See <a href="https://tig12.github.io/gauquelin5/db-person.html#ogdb-unique-id">the definition of OGDB unique id</a>.
        </td>
    </tr>
    
    <tr>
        <td>WDID</td>
        <td>
            <b>Wikidata unique id</b>
            <br>Looks like <code>Q41390</code>.
            <br>Corresponds to the <a href="https://www.wikidata.org/wiki/Wikidata:Identifiers">Wikidata id of an entity</a>.
        </td>
    </tr>
    
    <tr>
        <td>GQID</td>
        <td>
            <b>Gauquelin unique id</b>
            <br>Looks like <code>A2-721</code>.
            <br>See <a href="https://tig12.github.io/gauquelin5/gauquelin.html#gauquelin-unique-id">the definition of Gauquelin unique id</a>.
        </td>
    </tr>
    
    <tr>
        <td>MUID</td>
        <td>
            <b>Müller unique id</b>
            <br>Looks like <code>M1-325</code>.
            <br>See <a href="https://tig12.github.io/gauquelin5/muller.html#muller-unique-id">the definition of Müller unique id</a>.
        </td>
    </tr>
    
    <tr>
        <td>ERID</td>
        <td>
            <b>Ertel unique id</b>
            <br>Looks like <code>S-326</code> ; concerns only sportspersons.
            <br>See <a href="https://tig12.github.io/gauquelin5/ertel.html#ertel-unique-id">the definition of Ertel unique id</a>.
        </td>
    </tr>
    
    <tr>
        <td>CSID</td>
        <td>
            <b>CSICOP unique id</b>
            <br>Looks like <code>153</code> ; concerns only sportspersons.
            <br>See <a href="https://tig12.github.io/gauquelin5/csicop.html#csicop-unique-id">The definition of CSICOP unique id</a>.
        </td>
    </tr>
    
<!-- 
    <tr>
        <td>CPID</td>
        <td>
            <b>Comité Para unique id</b>
            <br>Looks like <code>153</code> or <code>* 56</code> ; concerns only sportspersons.
            <br>See <a href="https://tig12.github.io/gauquelin5/comite-para.html#comite-para-unique-id">The definition of Comit Para unique id</a>.
        </td>
    </tr>
    
    <tr>
        <td>CFID</td>
        <td>
            <b>CFEPP unique id</b>
            <br>Looks like <code>153</code> ; concerns only sportspersons.
            <br>See <a href="https://tig12.github.io/gauquelin5/cfepp.html#cfepp-unique-id">The definition of CFEPP unique id</a>.
        </td>
    </tr>
-->
    
    <!-- ************************************* -->
    <tr><td colspan="2" class="paragraph">Names</td></tr>
    
    <tr>
        <td>FNAME</td>
        <td>
            <b>Family name</b>.
        </td>
    </tr>
    
    <tr>
        <td>GNAME</td>
        <td>
            <b>Given name</b>.
        </td>
    </tr>
    
    <tr>
        <td>FAME</td>
        <td>
            <b>Fame name</b>: scene name, pseudonym, sometimes different from the birth certificate.
        </td>
    </tr>
    
    <tr>
        <td>NOB</td>
        <td>
            <b>Nobiliary particle</b>.
        </td>
    </tr>
    
    <!-- ************************************* -->
    <tr><td colspan="2" class="paragraph">Dates</td></tr>
    
    <tr>
        <td>DATE</td>
        <td>
            <b>Legal date</b> = date and time as written in the birth certificate.
            <br>Format ISO 8601 of this form : <code>YYYY-MM-DD HH:MM</code>.
            <br>Example : <code>2017-05-03 09:30</code>.
            <br>Timezone offset is not included ; hour precision is minute (seconds omited).
        </td>
    </tr>
    
    <tr>
        <td>DATE-UT</td>
        <td>
            <b>Date and time converted to universal time</b>.
        </td>
    </tr>
    
    <tr>
        <td>TZO</td>
        <td>
            <b>Timezone offset</b>, see definition on page <a href="https://tig12.github.io/gauquelin5/time.html">tig12.github.io/gauquelin5/time.html</a>.
        </td>
    </tr>
    
    <!-- ************************************* -->
    <tr><td colspan="2" class="paragraph">Geographical information</td></tr>
    
    <tr>
        <td>PLACE</td>
        <td>
            <b>Birth place name</b>.
        </td>
    </tr>
    
    <tr>
        <td>CY</td>
        <td>
            <b>Country code</b> of birth place ; ISO 3166, 2 letters format.
        </td>
    </tr>
    
    <tr>
        <td>C1</td>
        <td>
            <b>Administrative division level 1</b> of birth place
            <br>Means "province" in Italy, or "state" in the USA.
            <br>Corresponds to ADM1 in geonames.org ("first-order administrative division").
        </td>
    </tr>
    
    <tr>
        <td>C2</td>
        <td>
            <b>Administrative division level 2</b> of birth place
            <br>Means "département" in France.
            <br>Corresponds to ADM2 in geonames.org ("second-order administrative division").
        </td>
    </tr>
    
    <tr>
        <td>C3</td>
        <td>
            <b>Administrative division level 3</b> of birth place
            <br>Used for "arrondissements" (Paris, Lyon, Marseille) = division of a big city in different parts.
            <br>Does NOT correspond to ADM3 in geonames.org ; in geonames.org, different arrondissements are modeled as different PLACE, and have different geonames id.
        </td>
    </tr>
    
    <tr>
        <td>GEOID</td>
        <td>
            <b>geonames.org unique identifier</b> of birth place.
        </td>
    </tr>
    
    <tr>
        <td>LG</td>
        <td>
            <b>Longitude</b> of birth place in decimal degrees.
        </td>
    </tr>
    
    <tr>
        <td>LAT</td>
        <td>
            <b>Latitude</b> of birth place in decimal degrees.
        </td>
    </tr>
    
    <!-- ************************************* -->
    <tr><td colspan="2" class="paragraph">Other fields</td></tr>
    <tr>
        <td>G</td>
        <td>
            <b>Gender</b>
            <br><code>F</code> or <code>M</code> in general.
        </td>
    </tr>
    
    <tr>
        <td>OCCU</td>
        <td>
            <b>Occupation codes</b>, as listed in <a href="/occupations">page listing persons by occupation</a>.
            <br>When a person has more than one occupation code, the codes are separated by "+".
            Ex : politician+writer means that the person is identified as a politician and a writer.
        </td>
    </tr>
    
</table>

